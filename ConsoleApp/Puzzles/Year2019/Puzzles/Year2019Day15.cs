using Core.Oxygen;
using Core.OxygenSystem;

namespace ConsoleApp.Puzzles.Year2019.Puzzles
{
    public class Year2019Day15 : Year2019Day
    {
        public override string Comment => "Repair droid";
        public override bool IsSlow => true;

        public override int Day => 15;

        public override PuzzleResult RunPart1()
        {
            // VERY SLOW
            var droid = new RepairDroid(FileInput);
            var result1 = droid.Run();

            return new PuzzleResult(result1, 424);
        }

        public override PuzzleResult RunPart2()
        {
            var filler = new OxygenFiller(GeneratedMapFromStep1);
            var result = filler.Fill();

            return new PuzzleResult(result, 446);
        }

        private const string GeneratedMapFromStep1 = @"
_ # ############# ### ##### ############# _
_#.#.............#...#.....#.............#_
_#.#.#.#########.###.#.#.#.#########.###.#_
_#...#.......#.#...#...#.#...#.....#.#...#_
_#.#########.#.###.#.###.###.#.###.#.#.## _
_#.....#...#.#.....#.#...#.....#.#.#.#...#_
_ ######.#.#.#.#######.#########.#.#.###.#_
_#.......#...#...#...#.#...#.......#.#...#_
_#.#############.#.#.#.#.#.###.#######.#.#_
_#...#.....#...#...#.#...#...#.........#.#_
_#.#.#.###.#.#######.###.###.#.#########.#_
_#.#.#...#.#...........#.#...#.#...#.....#_
_#.#.###.#.#.#########.###.#####.#.#.#### _
_#.#.....#.#...#...#.....#.#.....#.#.....#_
_#.#######.#####.#.#####.#.#.#####.#####.#_
_#.#...#.#.......#...#.....#.....#.#.....#_
_#.#.#.#.######## ##.#######.#####.###### _
_#.#.#.#.........#.#.#.......#...#.#.....#_
_#.#.#.#.#######.#.#.#.#######.#.#.#.###.#_
_#...#...#.#.....#.#...#.......#.#.....#.#_
_ ########.#.#####.#####.#######.#####.#.#_
_#.....#.....#.....#.#...#.....#.....#.#.#_
_#.###.#.#####.###.#.#####.#.#######.###.#_
_#.#...#.....#.#.#.......#.#.....#...#...#_
_#.#### ####.#.#.#.#####.## ####.#.###.#.#_
_#.#...#...#.#.#...#...#...#.....#.#...#.#_
_#.#.#.#.#.#.#.#####.#.###.#.###.#.###.## _
_#...#...#...#.......#.#...#.#.#.#...#...#_
_#.#############.#####.###.#.#.#.###.###.#_
_#.#...........#.#...#...#.#.#.....#.#...#_
_#.#####.#####.#.#.#.###.#.#.#####.#.#.## _
_#...#...#...#.#...#.#.#.#...#...#.#...#.#_
_ ##.#.###.#.#.#####.#.#.#.###.#.#.#####.#_
_#.#.#.#...#.#.#.......#.#.#...#.#...#...#_
_#.#.#.#.#####.#######.#.###.###.###.#.#.#_
_#.#...#.....#...#...#.#.....#...#...#.#.#_
_#.#####.###.###.#.#.#########.###.###.#.#_
_#...#...#.#.....#.#.#.....#...#.#...#X#.#_
_#.###.###.#######.#.#.###.#.###.###.###.#_
_#.................#...#.....#...........#_
_ ################# ### ##### ########### _
";
    }
}